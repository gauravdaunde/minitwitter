{"ast":null,"code":"var _jsxFileName = \"/home/aishwarya/Desktop/Updated_backend/mini-twitter/frontend/src/components/Formcomponent.js\";\nimport React, { Component } from 'react';\nimport './formstyle.css';\nimport TwitterLogo from \"./images/twitter.png\";\nimport axios from 'axios';\nimport history from '../history';\n\nclass Formcomponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlechange = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n\n    this.handlepassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.submithandle = event => {\n      //console.log(this.state)\n      axios.post(\"http://127.0.0.1:8000/user/login/\", this.state).then(response => {\n        console.log(response); // if(response.status=\"202\"){\n        //    const store= response.data['token'];\n        //   // this.setState({token:response.data[\"token\"]})\n        //     localStorage.setItem(\"token\",store);\n        //     localStorage.setItem(\"username\",response.data['username'])\n        //      const token1=localStorage.getItem(\"token\");\n        //      console.log(token1);\n        //     //  if(token1!=null){\n        //         {history.push('/Timeline')}\n        //     //  }\n        //    // document.cookie=response.data;\n        // }\n        // if(response.status=\"202\"){\n        //     // console.log(response.data['token']); \n        // }\n      }).catch(error => {\n        console.log(error.response);\n\n        if (error.response.status = \"400\") {\n          console.log(this.state);\n          console.log(error.response.data);\n          this.setState({\n            error_message: error.response.data['message']\n          });\n          {\n            history.push('/Login');\n          } // console.log(error.response);\n        } else if (error.request) {\n          console.log(error.request);\n        } else {\n          console.log(\"Error\", error.message);\n        }\n\n        console.log(error.response);\n        return error.response;\n      });\n      event.preventDefault();\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      error_message: '',\n      // token_arr:[]\n      token: \"\"\n    };\n  }\n\n  check() {\n    var get = document.getElementById(\"password\");\n\n    if (get.value.trim().length < 5) {\n      // alert(\"Password is short must be greater than 5\");\n      return false;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box__animation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n      src: TwitterLogo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 26\n      }\n    })), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 27\n      }\n    }, \"Log in to Mini-Twitter\"))), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submithandle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"labelstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 44\n      }\n    }, \" Username\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      value: this.state.username,\n      onChange: this.handlechange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"labelstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 20\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 49\n      }\n    }, \"Password\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      class: \"form-control\",\n      value: this.state.password,\n      onChange: this.handlepassword,\n      id: \"password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 48\n      }\n    }), \" \"), this.state.error_message && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 54\n      }\n    }, this.state.error_message)), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.check,\n      className: \"btn btn--white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, \"Log in\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 20\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => history.push('/Registration'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 51\n      }\n    }, \"Sign up for InstaTweets?.\")))))));\n  }\n\n}\n\nexport default Formcomponent; // function check(){\n//     var get=document.getElementById(\"password\");\n//     if(get.value.trim().length<5){\n//         alert(\"Password is short must be greater than 5\");\n//         return false;\n//     }","map":{"version":3,"sources":["/home/aishwarya/Desktop/Updated_backend/mini-twitter/frontend/src/components/Formcomponent.js"],"names":["React","Component","TwitterLogo","axios","history","Formcomponent","constructor","props","handlechange","event","setState","username","target","value","handlepassword","password","submithandle","post","state","then","response","console","log","catch","error","status","data","error_message","push","request","message","preventDefault","token","check","get","document","getElementById","trim","length","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,iBAAP;AAEA,OAAOC,WAAP,MAAyB,sBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;;AAIC,MAAMC,aAAN,SAA4BJ,SAA5B,CAAsC;AAClCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAYnBC,YAZmB,GAYLC,KAAD,IAAS;AACnB,WAAKC,QAAL,CAAc;AACVC,QAAAA,QAAQ,EAACF,KAAK,CAACG,MAAN,CAAaC;AADZ,OAAd;AAGF,KAhBkB;;AAAA,SAiBnBC,cAjBmB,GAiBHL,KAAD,IAAS;AACpB,WAAKC,QAAL,CAAc;AACVK,QAAAA,QAAQ,EAACN,KAAK,CAACG,MAAN,CAAaC;AADZ,OAAd;AAGH,KArBkB;;AAAA,SAsBnBG,YAtBmB,GAsBLP,KAAD,IAAS;AACnB;AACAN,MAAAA,KAAK,CAACc,IAAN,CAAW,mCAAX,EAA+C,KAAKC,KAApD,EAA2DC,IAA3D,CAAgEC,QAAQ,IAAE;AAE1EC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAF0E,CAGtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAGH,OAvBD,EAuBGG,KAvBH,CAuBSC,KAAK,IAAE;AACZH,QAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACJ,QAAlB;;AACA,YAAGI,KAAK,CAACJ,QAAN,CAAeK,MAAf,GAAsB,KAAzB,EAA+B;AAC5BJ,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKJ,KAAjB;AACAG,UAAAA,OAAO,CAACC,GAAR,CAAaE,KAAK,CAACJ,QAAN,CAAeM,IAA5B;AACA,eAAKhB,QAAL,CAAc;AAACiB,YAAAA,aAAa,EAACH,KAAK,CAACJ,QAAN,CAAeM,IAAf,CAAoB,SAApB;AAAf,WAAd;AACA;AAACtB,YAAAA,OAAO,CAACwB,IAAR,CAAa,QAAb;AAAuB,WAJI,CAM5B;AAEF,SARD,MASK,IAAGJ,KAAK,CAACK,OAAT,EAAiB;AAClBR,UAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACK,OAAlB;AACH,SAFI,MAIL;AACIR,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBE,KAAK,CAACM,OAA1B;AACH;;AACDT,QAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACJ,QAAlB;AACA,eAAOI,KAAK,CAACJ,QAAb;AACH,OA3CD;AA4CAX,MAAAA,KAAK,CAACsB,cAAN;AACF,KArEkB;;AAGf,SAAKb,KAAL,GAAa;AACRP,MAAAA,QAAQ,EAAC,EADD;AAERI,MAAAA,QAAQ,EAAC,EAFD;AAGRY,MAAAA,aAAa,EAAC,EAHN;AAIT;AACAK,MAAAA,KAAK,EAAC;AALG,KAAb;AAOH;;AA4DFC,EAAAA,KAAK,GAAE;AACC,QAAIC,GAAG,GAACC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAR;;AACA,QAAGF,GAAG,CAACrB,KAAJ,CAAUwB,IAAV,GAAiBC,MAAjB,GAAwB,CAA3B,EAA6B;AAC1B;AACC,aAAO,KAAP;AACH;AACJ;;AACLC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAS;AAAK,MAAA,GAAG,EAAErC,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAT,CAFA,eAGF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAJ,CAAR,CAHE,eAIA;AAAM,MAAA,QAAQ,EAAE,KAAKc,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACD;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA5B,CADC,eAEJ;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA4B;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAC,cAAzB;AAAwC,MAAA,KAAK,EAAE,KAAKE,KAAL,CAAWP,QAA1D;AAAoE,MAAA,QAAQ,EAAE,KAAKH,YAAnF;AAAiG,MAAA,QAAQ,MAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,CAFI,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,eAIG;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAA6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA7B,CAJH,eAKG;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA4B;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,KAAK,EAAC,cAA7B;AAA2C,MAAA,KAAK,EAAE,KAAKU,KAAL,CAAWH,QAA7D;AAAuE,MAAA,QAAQ,EAAE,KAAKD,cAAtF;AAAsG,MAAA,EAAE,EAAC,UAAzG;AAAoH,MAAA,QAAQ,MAA5H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,MALH,EAMI,KAAKI,KAAL,CAAWS,aAAX,iBAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAS,KAAKT,KAAL,CAAWS,aAApB,CAAL,CANhC,eAOI;AAAS,MAAA,IAAI,EAAC,QAAd;AAAuB,MAAA,OAAO,EAAE,KAAKM,KAArC;AAA6C,MAAA,SAAS,EAAC,gBAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,eAWG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAS;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAsB;AAAG,MAAA,OAAO,EAAE,MAAI7B,OAAO,CAACwB,IAAR,CAAa,eAAb,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAtB,CAAT,CAXH,CAJA,CADA,CADJ,CADJ;AAyBH;;AAxGkC;;AA2GvC,eAAevB,aAAf,C,CAEI;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from 'react'\nimport './formstyle.css'\n\nimport TwitterLogo from  \"./images/twitter.png\"\nimport axios from 'axios'\nimport history from '../history'\n\n\n\n class Formcomponent extends Component {\n     constructor(props) {\n         super(props)\n     \n         this.state = {\n              username:'',\n              password:'',\n              error_message:'',\n             // token_arr:[]\n             token:\"\"\n         }\n     }\n\n     handlechange=(event)=>{\n        this.setState({\n            username:event.target.value\n        })\n     }\n     handlepassword=(event)=>{\n         this.setState({\n             password:event.target.value\n         })\n     }\n     submithandle=(event)=>{\n        //console.log(this.state)\n        axios.post(\"http://127.0.0.1:8000/user/login/\",this.state).then(response=>{\n\n        console.log(response);\n            // if(response.status=\"202\"){\n            //    const store= response.data['token'];\n            //   // this.setState({token:response.data[\"token\"]})\n            //     localStorage.setItem(\"token\",store);\n            //     localStorage.setItem(\"username\",response.data['username'])\n            //      const token1=localStorage.getItem(\"token\");\n            //      console.log(token1);\n            //     //  if(token1!=null){\n            //         {history.push('/Timeline')}\n            //     //  }\n                 \n            //    // document.cookie=response.data;\n                \n            // }\n            // if(response.status=\"202\"){\n                \n            //     // console.log(response.data['token']); \n            // }\n\n            \n        }).catch(error=>{\n            console.log(error.response);\n            if(error.response.status=\"400\"){\n               console.log(this.state);\n               console.log((error.response.data));\n               this.setState({error_message:error.response.data['message']});\n               {history.push('/Login')}\n                \n               // console.log(error.response);\n                \n            }\n            else if(error.request){\n                console.log(error.request);\n            }\n            else\n            {\n                console.log(\"Error\",error.message);  \n            }\n            console.log(error.response);\n            return error.response;\n        })\n        event.preventDefault()\n     }\n    check(){\n            var get=document.getElementById(\"password\");\n            if(get.value.trim().length<5){\n               // alert(\"Password is short must be greater than 5\");\n                return false;\n            }\n        } \n    render() {\n        return (\n            <div>\n                <div className=\"box\" >\n                <div className=\"box__animation\"> \n                {/* <center><div className=\"box__bg\"></div></center> */}\n                <center> <img src={TwitterLogo} /></center>\n              <center><h2><b>Log in to Mini-Twitter</b></h2></center> \n                <form onSubmit={this.submithandle} >\n               <div className=\"labelstyle\"><label> Username</label></div>\n            <div className=\"inputstyle\"><input type=\"text\" class=\"form-control\" value={this.state.username} onChange={this.handlechange} required></input></div> \n                    <br></br>\n                   <div className=\"labelstyle\"> <label >Password</label></div>\n                   <div className=\"inputstyle\"><input type=\"password\" class=\"form-control\"value={this.state.password} onChange={this.handlepassword} id=\"password\" required></input> </div>  \n                   {this.state.error_message && <div><strong>{this.state.error_message}</strong></div>}\n                    < button type=\"submit\" onClick={this.check}  className=\"btn btn--white\">Log in</button> \n                    <br></br>\n                    <br></br>\n           \n                   <center> <span className=\"fix\"><a onClick={()=>history.push('/Registration')}  >Sign up for InstaTweets?.</a></span></center>\n                </form>\n               \n                </div>\n                </div> \n            </div>\n        )\n    }\n}\n\nexport default Formcomponent\n\n    // function check(){\n    //     var get=document.getElementById(\"password\");\n    //     if(get.value.trim().length<5){\n    //         alert(\"Password is short must be greater than 5\");\n    //         return false;\n    //     }\n    \n    \n          \n             \n            \n                \n                \n           \n        \n    \n\n\n\n"]},"metadata":{},"sourceType":"module"}