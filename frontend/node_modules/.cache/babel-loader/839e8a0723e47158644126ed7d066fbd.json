{"ast":null,"code":"var _jsxFileName = \"/home/aishwarya/Desktop/Updated_backend/mini-twitter/frontend/src/components/Formcomponent.js\";\nimport React, { Component } from 'react';\nimport './formstyle.css';\nimport TwitterLogo from \"./images/twitter.png\";\nimport axios from 'axios';\nimport history from '../history';\n\nclass Formcomponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlechange = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n\n    this.handlepassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.submithandle = event => {\n      console.log(this.state);\n      axios.post(\"http://127.0.0.1:8000/login/\", this.state).then(response => {\n        console.log(response);\n\n        if (response.status = \"202\") {\n          const store = response.data['token']; // this.setState({token:response.data[\"token\"]})\n\n          localStorage.setItem(\"token\", store);\n          const token1 = localStorage.getItem(\"token\");\n          console.log(token1); //  if(token1!=null){\n\n          {\n            history.push('/Timeline');\n          } //  }\n          // document.cookie=response.data;\n        } // if(response.status=\"202\"){\n        //     // console.log(response.data['token']); \n        // }\n\n      }).catch(error => {\n        console.log(error.response);\n\n        if (error.response.status = \"400\") {\n          console.log(this.state);\n          console.log(error.response.data);\n          this.setState({\n            error_message: error.response.data['message']\n          });\n          {\n            history.push('/Login');\n          } // console.log(error.response);\n        } else if (error.request) {\n          console.log(error.request);\n        } else {\n          console.log(\"Error\", error.message);\n        }\n\n        console.log(error.response);\n        return error.response;\n      });\n      event.preventDefault();\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      error_message: '',\n      // token_arr:[]\n      token: \"\"\n    };\n  }\n\n  check() {\n    var get = document.getElementById(\"password\");\n\n    if (get.value.trim().length < 5) {\n      alert(\"Password is short must be greater than 5\");\n      return false;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box__animation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n      src: TwitterLogo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 26\n      }\n    })), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 27\n      }\n    }, \"Log in to InstaTweets\"))), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submithandle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"labelstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 44\n      }\n    }, \" Username\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      value: this.state.username,\n      onChange: this.handlechange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"labelstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 20\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 49\n      }\n    }, \"Password\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      class: \"form-control\",\n      value: this.state.password,\n      onChange: this.handlepassword,\n      id: \"password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 48\n      }\n    }), \" \"), this.state.error_message && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 54\n      }\n    }, this.state.error_message)), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.check,\n      className: \"btn btn--white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \"Log in\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => history.push('/'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 43\n      }\n    }, \"Sign up for InstaTweets?.\"))))));\n  }\n\n}\n\nexport default Formcomponent; // function check(){\n//     var get=document.getElementById(\"password\");\n//     if(get.value.trim().length<5){\n//         alert(\"Password is short must be greater than 5\");\n//         return false;\n//     }","map":{"version":3,"sources":["/home/aishwarya/Desktop/Updated_backend/mini-twitter/frontend/src/components/Formcomponent.js"],"names":["React","Component","TwitterLogo","axios","history","Formcomponent","constructor","props","handlechange","event","setState","username","target","value","handlepassword","password","submithandle","console","log","state","post","then","response","status","store","data","localStorage","setItem","token1","getItem","push","catch","error","error_message","request","message","preventDefault","token","check","get","document","getElementById","trim","length","alert","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './formstyle.css'\n\nimport TwitterLogo from  \"./images/twitter.png\"\nimport axios from 'axios'\nimport history from '../history'\n\n\n\n class Formcomponent extends Component {\n     constructor(props) {\n         super(props)\n     \n         this.state = {\n              username:'',\n              password:'',\n              error_message:'',\n             // token_arr:[]\n             token:\"\"\n         }\n     }\n\n     handlechange=(event)=>{\n        this.setState({\n            username:event.target.value\n        })\n     }\n     handlepassword=(event)=>{\n         this.setState({\n             password:event.target.value\n         })\n     }\n     submithandle=(event)=>{\n        console.log(this.state)\n        axios.post(\"http://127.0.0.1:8000/login/\",this.state).then(response=>{\n            console.log(response);\n            if(response.status=\"202\"){\n               const store= response.data['token'];\n              // this.setState({token:response.data[\"token\"]})\n                localStorage.setItem(\"token\",store);\n                 const token1=localStorage.getItem(\"token\");\n                 console.log(token1);\n                //  if(token1!=null){\n                    {history.push('/Timeline')}\n                //  }\n                 \n               // document.cookie=response.data;\n                \n            }\n            // if(response.status=\"202\"){\n                \n            //     // console.log(response.data['token']); \n            // }\n\n            \n        }).catch(error=>{\n            console.log(error.response);\n            if(error.response.status=\"400\"){\n               console.log(this.state);\n               console.log((error.response.data));\n               this.setState({error_message:error.response.data['message']});\n               {history.push('/Login')}\n                \n               // console.log(error.response);\n                \n            }\n            else if(error.request){\n                console.log(error.request);\n            }\n            else\n            {\n                console.log(\"Error\",error.message);  \n            }\n            console.log(error.response);\n            return error.response;\n        })\n        event.preventDefault()\n     }\n    check(){\n            var get=document.getElementById(\"password\");\n            if(get.value.trim().length<5){\n                alert(\"Password is short must be greater than 5\");\n                return false;\n            }\n        } \n    render() {\n        return (\n            <div>\n                <div className=\"box\" >\n                <div className=\"box__animation\"> \n                {/* <center><div className=\"box__bg\"></div></center> */}\n                <center> <img src={TwitterLogo} /></center>\n              <center><h2><b>Log in to InstaTweets</b></h2></center> \n                <form onSubmit={this.submithandle} >\n               <div className=\"labelstyle\"><label> Username</label></div>\n            <div className=\"inputstyle\"><input type=\"text\" class=\"form-control\" value={this.state.username} onChange={this.handlechange} required></input></div> \n                    <br></br>\n                   <div className=\"labelstyle\"> <label >Password</label></div>\n                   <div className=\"inputstyle\"><input type=\"password\" class=\"form-control\"value={this.state.password} onChange={this.handlepassword} id=\"password\" required></input> </div>  \n                   {this.state.error_message && <div><strong>{this.state.error_message}</strong></div>}\n                    < button type=\"submit\" onClick={this.check}  className=\"btn btn--white\">Log in</button> \n                    <br></br>\n                    <br></br>\n           \n                    <span className=\"fix\"><a onClick={()=>history.push('/')}  >Sign up for InstaTweets?.</a></span>\n                </form>\n               \n                </div>\n                </div> \n            </div>\n        )\n    }\n}\n\nexport default Formcomponent\n\n    // function check(){\n    //     var get=document.getElementById(\"password\");\n    //     if(get.value.trim().length<5){\n    //         alert(\"Password is short must be greater than 5\");\n    //         return false;\n    //     }\n    \n    \n          \n             \n            \n                \n                \n           \n        \n    \n\n\n\n"]},"metadata":{},"sourceType":"module"}